<!doctype html>
<html lang="pt-br">

<head>
  <title>Página de Login</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS v5.2.1 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <link rel="stylesheet" href="index/CSS/index.css">
</head>

<body>
  <header>
    <!-- place navbar here -->
  </header>

    <!-- Logo -->
  <div class="logo-container">
    <div class="logo">
      <img src="index/IMG/logo.png" alt="Logo da empresa">
    </div>

  <!-- Fundo -->
  <div class="overlay"></div>

  <main>
    <div class="wrapper">
    <form action="login/PHP/login.php" method="POST">
      <h1>Login</h1>
      <!-- Switch visual entre CPF e E-mail -->
<div class="d-flex mb-3" id="login-switch" style="border: 2px solid black; border-radius: 6px; overflow: hidden;">
  <div class="flex-fill text-center p-2 switch-tab active" id="switch-cpf" style="cursor: pointer;">CPF</div>
  <div class="flex-fill text-center p-2 switch-tab" id="switch-email" style="cursor: pointer;">E-mail</div>
</div>

      <div class="input-box">
        <label for="cpf_email" class="form-label">CPF ou E-mail:</label>
        <input type="text" class="form-control" id="cpf_email" name="cpf_email" placeholder="Digite seu CPF ou e-mail" required>
      </div>
      <div class="input-box">
        <label for="senha" class="form-label">Senha:</label>
        <input type="password" class="form-control" id="senha" name="senha" pattern="^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':\\|,.<>\/?]).{6,}$" title="A senha deve ter ao menos 6 caracteres, uma letra maiúscula, um número e um caractere especial." required>
      </div>
      <button type="submit" class="btn-entrar">Entrar</button>
    </form>
    </div>
    </div>
  </main>

  <script>
    const switchCPF = document.getElementById('switch-cpf');
    const switchEmail = document.getElementById('switch-email');
    const inputCpfEmail = document.getElementById('cpf_email');
  
    function formatCPF(value) {
      value = value.replace(/\D/g, '').slice(0, 11);
      value = value.replace(/(\d{3})(\d)/, '$1.$2');
      value = value.replace(/(\d{3})(\d)/, '$1.$2');
      value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
      return value;
    }
  
    function activateTab(isCPF) {
      // Estilo de seleção
      switchCPF.classList.toggle('active', isCPF);
      switchEmail.classList.toggle('active', !isCPF);
  
      // Atualiza input
      inputCpfEmail.value = '';
      inputCpfEmail.type = isCPF ? 'text' : 'email';
      inputCpfEmail.placeholder = isCPF ? 'Digite seu CPF' : 'Digite seu e-mail';
      inputCpfEmail.maxLength = isCPF ? 14 : 50;
  
      if (isCPF) {
        inputCpfEmail.addEventListener('input', handleCPFMask);
      } else {
        inputCpfEmail.removeEventListener('input', handleCPFMask);
      }
    }
  
    function handleCPFMask(e) {
      e.target.value = formatCPF(e.target.value);
    }
  
    switchCPF.addEventListener('click', () => activateTab(true));
    switchEmail.addEventListener('click', () => activateTab(false));
  
    // Estilo visual ativo
    document.querySelectorAll('.switch-tab').forEach(tab => {
      tab.style.transition = 'background 0.2s ease';
    });
  
    // Inicializa como CPF
    activateTab(true);
  </script>
  

  <footer>
    <!-- place footer here -->
  </footer>

  <!-- Bootstrap JavaScript Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
    integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
  </script>
</body>
</html>